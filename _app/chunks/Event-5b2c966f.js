import{S as ge,i as be,s as ke,e as p,c as m,a as g,d as h,b as _,g as O,q as V,w as Q,k as w,t as z,x as U,m as y,h as F,y as W,F as d,E as K,o as A,B as X,n as Y,p as Z,G as x,K as Ee,H as oe,l as ce}from"./index-e45cd9d1.js";import{A as me}from"./Avatar-f71fd69a.js";import{E as De}from"./EventTypeLabel-5efb0eba.js";import{a as fe,b as Ie}from"./stores-adaa4006.js";function ue(i,e,n){const s=i.slice();return s[8]=e[n],s}function de(i,e,n){const s=i.slice();return s[11]=e[n],s}function he(i,e,n){const s=i.slice();return s[11]=e[n],s}function Ve(i){let e,n,s=i[2](i[1].speakers),t=[];for(let a=0;a<s.length;a+=1)t[a]=ve(he(i,s,a));const o=a=>A(t[a],1,1,()=>{t[a]=null});return{c(){e=p("div");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=m(a,"DIV",{class:!0});var l=g(e);for(let r=0;r<t.length;r+=1)t[r].l(l);l.forEach(h),this.h()},h(){_(e,"class","mt-1 mb-2 flex flex-wrap gap-2")},m(a,l){O(a,e,l);for(let r=0;r<t.length;r+=1)t[r].m(e,null);n=!0},p(a,l){if(l&6){s=a[2](a[1].speakers);let r;for(r=0;r<s.length;r+=1){const c=he(a,s,r);t[r]?(t[r].p(c,l),V(t[r],1)):(t[r]=ve(c),t[r].c(),V(t[r],1),t[r].m(e,null))}for(Y(),r=s.length;r<t.length;r+=1)o(r);Z()}},i(a){if(!n){for(let l=0;l<s.length;l+=1)V(t[l]);n=!0}},o(a){t=t.filter(Boolean);for(let l=0;l<t.length;l+=1)A(t[l]);n=!1},d(a){a&&h(e),x(t,a)}}}function ve(i){let e,n,s,t,o,a=i[11].name+"",l,r,c,v;return n=new me({props:{speaker:i[11],size:"extra-small"}}),{c(){e=p("div"),Q(n.$$.fragment),s=w(),t=p("div"),o=p("a"),l=z(a),c=w(),this.h()},l(f){e=m(f,"DIV",{class:!0});var u=g(e);U(n.$$.fragment,u),s=y(u),t=m(u,"DIV",{class:!0});var E=g(t);o=m(E,"A",{href:!0});var b=g(o);l=F(b,a),b.forEach(h),E.forEach(h),c=y(u),u.forEach(h),this.h()},h(){_(o,"href",r="/lide?id="+i[11].id),_(t,"class","m-auto"),_(e,"class","flex gap-1.5")},m(f,u){O(f,e,u),W(n,e,null),d(e,s),d(e,t),d(t,o),d(o,l),d(e,c),v=!0},p:K,i(f){v||(V(n.$$.fragment,f),v=!0)},o(f){A(n.$$.fragment,f),v=!1},d(f){f&&h(e),X(n)}}}function $e(i){let e,n,s,t=i[4](i[1]),o=[];for(let l=0;l<t.length;l+=1)o[l]=pe(ue(i,t,l));const a=l=>A(o[l],1,1,()=>{o[l]=null});return{c(){e=p("div"),n=p("div");for(let l=0;l<o.length;l+=1)o[l].c();this.h()},l(l){e=m(l,"DIV",{class:!0});var r=g(e);n=m(r,"DIV",{class:!0,cellpadding:!0});var c=g(n);for(let v=0;v<o.length;v+=1)o[v].l(c);c.forEach(h),r.forEach(h),this.h()},h(){_(n,"class","flex flex-wrap gap-2"),_(n,"cellpadding","5"),_(e,"class","mt-4 w-auto mb-2")},m(l,r){O(l,e,r),d(e,n);for(let c=0;c<o.length;c+=1)o[c].m(n,null);s=!0},p(l,r){if(r&22){t=l[4](l[1]);let c;for(c=0;c<t.length;c+=1){const v=ue(l,t,c);o[c]?(o[c].p(v,r),V(o[c],1)):(o[c]=pe(v),o[c].c(),V(o[c],1),o[c].m(n,null))}for(Y(),c=t.length;c<o.length;c+=1)a(c);Z()}},i(l){if(!s){for(let r=0;r<t.length;r+=1)V(o[r]);s=!0}},o(l){o=o.filter(Boolean);for(let r=0;r<o.length;r+=1)A(o[r]);s=!1},d(l){l&&h(e),x(o,l)}}}function we(i){let e,n,s=i[2](i[8].speakers),t=[];for(let a=0;a<s.length;a+=1)t[a]=_e(de(i,s,a));const o=a=>A(t[a],1,1,()=>{t[a]=null});return{c(){for(let a=0;a<t.length;a+=1)t[a].c();e=ce()},l(a){for(let l=0;l<t.length;l+=1)t[l].l(a);e=ce()},m(a,l){for(let r=0;r<t.length;r+=1)t[r].m(a,l);O(a,e,l),n=!0},p(a,l){if(l&22){s=a[2](a[8].speakers);let r;for(r=0;r<s.length;r+=1){const c=de(a,s,r);t[r]?(t[r].p(c,l),V(t[r],1)):(t[r]=_e(c),t[r].c(),V(t[r],1),t[r].m(e.parentNode,e))}for(Y(),r=s.length;r<t.length;r+=1)o(r);Z()}},i(a){if(!n){for(let l=0;l<s.length;l+=1)V(t[l]);n=!0}},o(a){t=t.filter(Boolean);for(let l=0;l<t.length;l+=1)A(t[l]);n=!1},d(a){x(t,a),a&&h(e)}}}function ye(i){let e,n;return{c(){e=p("div"),n=z("TBA")},l(s){e=m(s,"DIV",{});var t=g(e);n=F(t,"TBA"),t.forEach(h)},m(s,t){O(s,e,t),d(e,n)},p:K,i:K,o:K,d(s){s&&h(e)}}}function _e(i){let e,n,s,t,o,a=i[11].name+"",l,r,c,v;return n=new me({props:{speaker:i[11],size:"micro"}}),{c(){e=p("div"),Q(n.$$.fragment),s=w(),t=p("div"),o=p("a"),l=z(a),c=w(),this.h()},l(f){e=m(f,"DIV",{class:!0});var u=g(e);U(n.$$.fragment,u),s=y(u),t=m(u,"DIV",{});var E=g(t);o=m(E,"A",{href:!0});var b=g(o);l=F(b,a),b.forEach(h),E.forEach(h),c=y(u),u.forEach(h),this.h()},h(){_(o,"href",r="/lide?id="+i[11].id),_(e,"class","flex gap-1")},m(f,u){O(f,e,u),W(n,e,null),d(e,s),d(e,t),d(t,o),d(o,l),d(e,c),v=!0},p:K,i(f){v||(V(n.$$.fragment,f),v=!0)},o(f){A(n.$$.fragment,f),v=!1},d(f){f&&h(e),X(n)}}}function pe(i){let e,n,s,t=i[8].name+"",o,a,l,r,c,v,f,u;const E=[ye,we],b=[];function q(k,$){return k[8].speakers.length===0?0:1}return c=q(i),v=b[c]=E[c](i),{c(){e=p("div"),n=p("div"),s=p("a"),o=z(t),l=w(),r=p("div"),v.c(),f=w(),this.h()},l(k){e=m(k,"DIV",{class:!0});var $=g(e);n=m($,"DIV",{class:!0});var S=g(n);s=m(S,"A",{href:!0});var C=g(s);o=F(C,t),C.forEach(h),S.forEach(h),l=y($),r=m($,"DIV",{class:!0});var j=g(r);v.l(j),j.forEach(h),f=y($),$.forEach(h),this.h()},h(){_(s,"href",a="/udalosti?id="+i[8].id),_(n,"class","font-bold"),_(r,"class","mt-1"),_(e,"class","border rounded py-1.5 px-2.5 bg-gray-100 text-sm")},m(k,$){O(k,e,$),d(e,n),d(n,s),d(s,o),d(e,l),d(e,r),b[c].m(r,null),d(e,f),u=!0},p(k,$){v.p(k,$)},i(k){u||(V(v),u=!0)},o(k){A(v),u=!1},d(k){k&&h(e),b[c].d()}}}function Ae(i){let e,n,s,t,o,a,l,r=i[1].name+"",c,v,f,u,E,b,q,k,$=i[3](i[1].track)+"",S,C,j,ee=i[1].duration+"",M,N,P,te=i[4](i[1]).length>0,L,G,R,le,B=i[1].speakers&&i[1].speakers.length>0&&Ve(i);b=new De({props:{event:i[1]}});let T=te&&$e(i);return{c(){e=p("div"),n=p("div"),s=p("i"),o=w(),a=p("div"),l=p("a"),c=z(r),v=w(),B&&B.c(),f=w(),u=p("div"),E=p("div"),Q(b.$$.fragment),q=w(),k=p("div"),S=z($),C=w(),j=p("div"),M=z(ee),N=z("m"),P=w(),T&&T.c(),this.h()},l(D){e=m(D,"DIV",{class:!0});var I=g(e);n=m(I,"DIV",{class:!0});var re=g(n);s=m(re,"I",{class:!0,"utxo-event-id":!0}),g(s).forEach(h),re.forEach(h),o=y(I),a=m(I,"DIV",{class:!0});var ae=g(a);l=m(ae,"A",{href:!0});var se=g(l);c=F(se,r),se.forEach(h),ae.forEach(h),v=y(I),B&&B.l(I),f=y(I),u=m(I,"DIV",{class:!0});var H=g(u);E=m(H,"DIV",{});var ne=g(E);U(b.$$.fragment,ne),ne.forEach(h),q=y(H),k=m(H,"DIV",{class:!0});var ie=g(k);S=F(ie,$),ie.forEach(h),C=y(H),j=m(H,"DIV",{class:!0});var J=g(j);M=F(J,ee),N=F(J,"m"),J.forEach(h),H.forEach(h),P=y(I),T&&T.l(I),I.forEach(h),this.h()},h(){_(s,"class",t="fa-star "+(i[0].favoriteEvents.includes(i[1].id)?"fa-solid":"fa-regular")+" cursor-pointer"),_(s,"utxo-event-id",i[1].id),_(n,"class","float-right"),_(l,"href","/udalosti?id="+i[1].id),_(a,"class","text-lg font-semibold"),_(k,"class","text-sm my-auto"),_(j,"class","text-xs my-auto"),_(u,"class","mt-2 text-sm flex flex-wrap gap-2"),_(e,"class",L="transition-all mb-4 border px-3 py-2 rounded-md shadow "+(i[0].favoriteEvents.includes(i[1].id)?"bg-yellow-100":""))},m(D,I){O(D,e,I),d(e,n),d(n,s),d(e,o),d(e,a),d(a,l),d(l,c),d(e,v),B&&B.m(e,null),d(e,f),d(e,u),d(u,E),W(b,E,null),d(u,q),d(u,k),d(k,S),d(u,C),d(u,j),d(j,M),d(j,N),d(e,P),T&&T.m(e,null),G=!0,R||(le=Ee(s,"click",i[5]),R=!0)},p(D,[I]){(!G||I&1&&t!==(t="fa-star "+(D[0].favoriteEvents.includes(D[1].id)?"fa-solid":"fa-regular")+" cursor-pointer"))&&_(s,"class",t),D[1].speakers&&D[1].speakers.length>0&&B.p(D,I),te&&T.p(D,I),(!G||I&1&&L!==(L="transition-all mb-4 border px-3 py-2 rounded-md shadow "+(D[0].favoriteEvents.includes(D[1].id)?"bg-yellow-100":"")))&&_(e,"class",L)},i(D){G||(V(B),V(b.$$.fragment,D),V(T),G=!0)},o(D){A(B),A(b.$$.fragment,D),A(T),G=!1},d(D){D&&h(e),B&&B.d(),X(b),T&&T.d(),R=!1,le()}}}function Be(i,e,n){let s,t;oe(i,fe,f=>n(0,s=f)),oe(i,Ie,f=>n(7,t=f));let{event:o}=e;const a=o;function l(f){if(!!f)return f.map(u=>t.spec.speakers.find(E=>E.id===u))}function r(f){const u=t.spec.tracks.find(E=>E.id===f);return u.shortname||u.name}function c(f){return t.spec.events.filter(u=>u.parent===f.id)}function v(f){const u=f.target.getAttribute("utxo-event-id");fe.update(E=>{const b=E.favoriteEvents;let q=null;return b.includes(u)?q=Object.assign(s,{favoriteEvents:b.filter(k=>k!==u)}):(b.push(u),q=Object.assign(s,{favoriteEvents:b})),q})}return i.$$set=f=>{"event"in f&&n(6,o=f.event)},[s,a,l,r,c,v,o]}class Fe extends ge{constructor(e){super();be(this,e,Be,Ae,ke,{event:6})}}export{Fe as E};
