import{S as _e,i as pe,s as me,e as m,k as A,t as C,c as g,a as b,d as v,m as z,h as F,b as p,g as q,F as u,j as ge,E as P,q as V,w as J,x as Q,y as U,o as j,B as X,n as Y,p as Z,G as x,K as be,H as re,l as ie}from"./index-e45cd9d1.js";import{A as ke}from"./Avatar-f71fd69a.js";import{b as Ee,a as W}from"./stores-adaa4006.js";function ye(l,e){if(!e)return 0;if(console.log(l.duration),l.duration)return l.duration;const s=e.spec.events.filter(r=>r.parent===l.id);if(s.length>0){let r=s.reduce((t,o)=>t+(o.duration?o.duration:0),0);return r+=5*(s.length-1),r}}function ne(l,e){e.update(s=>{const r=s.favoriteEvents;let t=null;return r.includes(l)?t=Object.assign({},s,{favoriteEvents:r.filter(o=>o!==l)}):(r.push(l),t=Object.assign(s,{favoriteEvents:r})),t})}function Ce(){}function De(l){let e,s,r,t,o,n=l[1].title+"",a,i,c;return{c(){e=m("div"),s=m("div"),t=A(),o=m("div"),a=C(n),this.h()},l(h){e=g(h,"DIV",{class:!0});var f=b(e);s=g(f,"DIV",{class:!0}),b(s).forEach(v),t=z(f),o=g(f,"DIV",{class:!0});var d=b(o);a=F(d,n),d.forEach(v),f.forEach(v),this.h()},h(){p(s,"class",r="w-1 rounded-l-sm "+l[1].style),p(o,"class",i=(l[0]==="big"?"px-2 py-0.5":"px-1.5 py-0.5")+" rounded-r-sm bg-gray-100 uppercase"),p(e,"class",c="flex "+(l[0]==="big"?"h-6 text-sm":"h-5 text-xs"))},m(h,f){q(h,e,f),u(e,s),u(e,t),u(e,o),u(o,a)},p(h,[f]){f&2&&r!==(r="w-1 rounded-l-sm "+h[1].style)&&p(s,"class",r),f&2&&n!==(n=h[1].title+"")&&ge(a,n),f&1&&i!==(i=(h[0]==="big"?"px-2 py-0.5":"px-1.5 py-0.5")+" rounded-r-sm bg-gray-100 uppercase")&&p(o,"class",i),f&1&&c!==(c="flex "+(h[0]==="big"?"h-6 text-sm":"h-5 text-xs"))&&p(e,"class",c)},i:P,o:P,d(h){h&&v(e)}}}function we(l,e,s){let r,{event:t={}}=e,{size:o=null}=e;const n={panel:{title:"Panelov\xE1 debata",style:"bg-custom-red text-white"},talk:{title:"P\u0159edn\xE1\u0161ka",style:"bg-custom-green text-white"},workshop:{title:"Workshop",style:"bg-custom-blue text-white"},other:{title:"Ostatn\xED",style:"bg-custom-yellow"},lightning:{title:"Lightning talk",style:"bg-pink-400"}};return l.$$set=a=>{"event"in a&&s(2,t=a.event),"size"in a&&s(0,o=a.size)},l.$$.update=()=>{l.$$.dirty&4&&s(1,r=n[t.type])},[o,r,t]}class Ie extends _e{constructor(e){super();pe(this,e,we,De,me,{event:2,size:0})}}function oe(l,e,s){const r=l.slice();return r[10]=e[s],r}function ce(l,e,s){const r=l.slice();return r[13]=e[s],r}function fe(l,e,s){const r=l.slice();return r[13]=e[s],r}function Ve(l){let e,s,r=l[3](l[2].speakers),t=[];for(let n=0;n<r.length;n+=1)t[n]=ue(fe(l,r,n));const o=n=>j(t[n],1,1,()=>{t[n]=null});return{c(){e=m("div");for(let n=0;n<t.length;n+=1)t[n].c();this.h()},l(n){e=g(n,"DIV",{class:!0});var a=b(e);for(let i=0;i<t.length;i+=1)t[i].l(a);a.forEach(v),this.h()},h(){p(e,"class","mt-1 mb-2 flex flex-wrap gap-2")},m(n,a){q(n,e,a);for(let i=0;i<t.length;i+=1)t[i].m(e,null);s=!0},p(n,a){if(a&12){r=n[3](n[2].speakers);let i;for(i=0;i<r.length;i+=1){const c=fe(n,r,i);t[i]?(t[i].p(c,a),V(t[i],1)):(t[i]=ue(c),t[i].c(),V(t[i],1),t[i].m(e,null))}for(Y(),i=r.length;i<t.length;i+=1)o(i);Z()}},i(n){if(!s){for(let a=0;a<r.length;a+=1)V(t[a]);s=!0}},o(n){t=t.filter(Boolean);for(let a=0;a<t.length;a+=1)j(t[a]);s=!1},d(n){n&&v(e),x(t,n)}}}function ue(l){let e,s,r,t,o,n=l[13].name+"",a,i,c,h;return s=new ke({props:{speaker:l[13],size:"extra-small"}}),{c(){e=m("div"),J(s.$$.fragment),r=A(),t=m("div"),o=m("a"),a=C(n),c=A(),this.h()},l(f){e=g(f,"DIV",{class:!0});var d=b(e);Q(s.$$.fragment,d),r=z(d),t=g(d,"DIV",{class:!0});var _=b(t);o=g(_,"A",{href:!0});var k=b(o);a=F(k,n),k.forEach(v),_.forEach(v),c=z(d),d.forEach(v),this.h()},h(){p(o,"href",i="/lide?id="+l[13].id),p(t,"class","m-auto"),p(e,"class","flex gap-1.5")},m(f,d){q(f,e,d),U(s,e,null),u(e,r),u(e,t),u(t,o),u(o,a),u(e,c),h=!0},p:P,i(f){h||(V(s.$$.fragment,f),h=!0)},o(f){j(s.$$.fragment,f),h=!1},d(f){f&&v(e),X(s)}}}function de(l){let e,s,r;return{c(){e=m("div"),s=C(l[0]),r=C("m"),this.h()},l(t){e=g(t,"DIV",{class:!0});var o=b(e);s=F(o,l[0]),r=F(o,"m"),o.forEach(v),this.h()},h(){p(e,"class","text-xs my-auto")},m(t,o){q(t,e,o),u(e,s),u(e,r)},p(t,o){o&1&&ge(s,t[0])},d(t){t&&v(e)}}}function $e(l){let e,s,r,t=l[5](l[2]),o=[];for(let a=0;a<t.length;a+=1)o[a]=ve(oe(l,t,a));const n=a=>j(o[a],1,1,()=>{o[a]=null});return{c(){e=m("div"),s=m("div");for(let a=0;a<o.length;a+=1)o[a].c();this.h()},l(a){e=g(a,"DIV",{class:!0});var i=b(e);s=g(i,"DIV",{class:!0,cellpadding:!0});var c=b(s);for(let h=0;h<o.length;h+=1)o[h].l(c);c.forEach(v),i.forEach(v),this.h()},h(){p(s,"class","flex flex-wrap gap-2"),p(s,"cellpadding","5"),p(e,"class","mt-4 w-auto mb-2")},m(a,i){q(a,e,i),u(e,s);for(let c=0;c<o.length;c+=1)o[c].m(s,null);r=!0},p(a,i){if(i&46){t=a[5](a[2]);let c;for(c=0;c<t.length;c+=1){const h=oe(a,t,c);o[c]?(o[c].p(h,i),V(o[c],1)):(o[c]=ve(h),o[c].c(),V(o[c],1),o[c].m(s,null))}for(Y(),c=t.length;c<o.length;c+=1)n(c);Z()}},i(a){if(!r){for(let i=0;i<t.length;i+=1)V(o[i]);r=!0}},o(a){o=o.filter(Boolean);for(let i=0;i<o.length;i+=1)j(o[i]);r=!1},d(a){a&&v(e),x(o,a)}}}function Ae(l){let e,s,r=l[3](l[10].speakers),t=[];for(let n=0;n<r.length;n+=1)t[n]=he(ce(l,r,n));const o=n=>j(t[n],1,1,()=>{t[n]=null});return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=ie()},l(n){for(let a=0;a<t.length;a+=1)t[a].l(n);e=ie()},m(n,a){for(let i=0;i<t.length;i+=1)t[i].m(n,a);q(n,e,a),s=!0},p(n,a){if(a&44){r=n[3](n[10].speakers);let i;for(i=0;i<r.length;i+=1){const c=ce(n,r,i);t[i]?(t[i].p(c,a),V(t[i],1)):(t[i]=he(c),t[i].c(),V(t[i],1),t[i].m(e.parentNode,e))}for(Y(),i=r.length;i<t.length;i+=1)o(i);Z()}},i(n){if(!s){for(let a=0;a<r.length;a+=1)V(t[a]);s=!0}},o(n){t=t.filter(Boolean);for(let a=0;a<t.length;a+=1)j(t[a]);s=!1},d(n){x(t,n),n&&v(e)}}}function ze(l){let e,s;return{c(){e=m("div"),s=C("TBA")},l(r){e=g(r,"DIV",{});var t=b(e);s=F(t,"TBA"),t.forEach(v)},m(r,t){q(r,e,t),u(e,s)},p:P,i:P,o:P,d(r){r&&v(e)}}}function he(l){let e,s,r,t,o,n=l[13].name+"",a,i,c,h;return s=new ke({props:{speaker:l[13],size:"micro"}}),{c(){e=m("div"),J(s.$$.fragment),r=A(),t=m("div"),o=m("a"),a=C(n),c=A(),this.h()},l(f){e=g(f,"DIV",{class:!0});var d=b(e);Q(s.$$.fragment,d),r=z(d),t=g(d,"DIV",{});var _=b(t);o=g(_,"A",{href:!0});var k=b(o);a=F(k,n),k.forEach(v),_.forEach(v),c=z(d),d.forEach(v),this.h()},h(){p(o,"href",i="/lide?id="+l[13].id),p(e,"class","flex gap-1")},m(f,d){q(f,e,d),U(s,e,null),u(e,r),u(e,t),u(t,o),u(o,a),u(e,c),h=!0},p:P,i(f){h||(V(s.$$.fragment,f),h=!0)},o(f){j(s.$$.fragment,f),h=!1},d(f){f&&v(e),X(s)}}}function ve(l){let e,s,r,t=l[10].name+"",o,n,a,i,c,h,f,d,_,k,T,B,S,G;function N(){return l[9](l[10])}const R=[ze,Ae],H=[];function K(D,I){return D[10].speakers.length===0?0:1}return d=K(l),_=H[d]=R[d](l),{c(){e=m("div"),s=m("div"),r=m("a"),o=C(t),a=A(),i=m("i"),h=A(),f=m("div"),_.c(),k=A(),this.h()},l(D){e=g(D,"DIV",{class:!0});var I=b(e);s=g(I,"DIV",{class:!0});var L=b(s);r=g(L,"A",{href:!0});var $=b(r);o=F($,t),$.forEach(v),a=z(L),i=g(L,"I",{class:!0}),b(i).forEach(v),L.forEach(v),h=z(I),f=g(I,"DIV",{class:!0});var y=b(f);_.l(y),y.forEach(v),k=z(I),I.forEach(v),this.h()},h(){p(r,"href",n="/udalosti?id="+l[10].id),p(i,"class",c="fa-star "+(l[1].favoriteEvents.includes(l[10].id)?"fa-solid":"fa-regular")+" cursor-pointer"),p(s,"class","font-bold"),p(f,"class","mt-1"),p(e,"class",T="border rounded py-1.5 px-2.5 text-sm transition-all "+(l[1].favoriteEvents.includes(l[10].id)?"bg-yellow-100":"bg-gray-100"))},m(D,I){q(D,e,I),u(e,s),u(s,r),u(r,o),u(s,a),u(s,i),u(e,h),u(e,f),H[d].m(f,null),u(e,k),B=!0,S||(G=be(i,"click",N),S=!0)},p(D,I){l=D,(!B||I&2&&c!==(c="fa-star "+(l[1].favoriteEvents.includes(l[10].id)?"fa-solid":"fa-regular")+" cursor-pointer"))&&p(i,"class",c),_.p(l,I),(!B||I&2&&T!==(T="border rounded py-1.5 px-2.5 text-sm transition-all "+(l[1].favoriteEvents.includes(l[10].id)?"bg-yellow-100":"bg-gray-100")))&&p(e,"class",T)},i(D){B||(V(_),B=!0)},o(D){j(_),B=!1},d(D){D&&v(e),H[d].d(),S=!1,G()}}}function Be(l){let e,s,r,t,o,n,a,i=l[2].name+"",c,h,f,d,_,k,T,B,S=l[4](l[2].track)+"",G,N,R,H=l[5](l[2]).length>0,K,D,I,L,$=l[2].speakers&&l[2].speakers.length>0&&Ve(l);k=new Ie({props:{event:l[2]}});let y=l[0]&&de(l),O=H&&$e(l);return{c(){e=m("div"),s=m("div"),r=m("i"),o=A(),n=m("div"),a=m("a"),c=C(i),h=A(),$&&$.c(),f=A(),d=m("div"),_=m("div"),J(k.$$.fragment),T=A(),B=m("div"),G=C(S),N=A(),y&&y.c(),R=A(),O&&O.c(),this.h()},l(E){e=g(E,"DIV",{class:!0});var w=b(e);s=g(w,"DIV",{class:!0});var ee=b(s);r=g(ee,"I",{class:!0}),b(r).forEach(v),ee.forEach(v),o=z(w),n=g(w,"DIV",{class:!0});var te=b(n);a=g(te,"A",{href:!0});var le=b(a);c=F(le,i),le.forEach(v),te.forEach(v),h=z(w),$&&$.l(w),f=z(w),d=g(w,"DIV",{class:!0});var M=b(d);_=g(M,"DIV",{});var ae=b(_);Q(k.$$.fragment,ae),ae.forEach(v),T=z(M),B=g(M,"DIV",{class:!0});var se=b(B);G=F(se,S),se.forEach(v),N=z(M),y&&y.l(M),M.forEach(v),R=z(w),O&&O.l(w),w.forEach(v),this.h()},h(){p(r,"class",t="fa-star "+(l[1].favoriteEvents.includes(l[2].id)?"fa-solid":"fa-regular")+" cursor-pointer"),p(s,"class","float-right"),p(a,"href","/udalosti?id="+l[2].id),p(n,"class","text-lg font-semibold"),p(B,"class","text-sm my-auto"),p(d,"class","mt-2 text-sm flex flex-wrap gap-2"),p(e,"class",K="transition-all mb-4 border px-3 py-2 rounded-md shadow "+(l[1].favoriteEvents.includes(l[2].id)?"bg-yellow-100":""))},m(E,w){q(E,e,w),u(e,s),u(s,r),u(e,o),u(e,n),u(n,a),u(a,c),u(e,h),$&&$.m(e,null),u(e,f),u(e,d),u(d,_),U(k,_,null),u(d,T),u(d,B),u(B,G),u(d,N),y&&y.m(d,null),u(e,R),O&&O.m(e,null),D=!0,I||(L=be(r,"click",l[8]),I=!0)},p(E,[w]){(!D||w&2&&t!==(t="fa-star "+(E[1].favoriteEvents.includes(E[2].id)?"fa-solid":"fa-regular")+" cursor-pointer"))&&p(r,"class",t),E[2].speakers&&E[2].speakers.length>0&&$.p(E,w),E[0]?y?y.p(E,w):(y=de(E),y.c(),y.m(d,null)):y&&(y.d(1),y=null),H&&O.p(E,w),(!D||w&2&&K!==(K="transition-all mb-4 border px-3 py-2 rounded-md shadow "+(E[1].favoriteEvents.includes(E[2].id)?"bg-yellow-100":"")))&&p(e,"class",K)},i(E){D||(V($),V(k.$$.fragment,E),V(O),D=!0)},o(E){j($),j(k.$$.fragment,E),j(O),D=!1},d(E){E&&v(e),$&&$.d(),X(k),y&&y.d(),O&&O.d(),I=!1,L()}}}function Te(l,e,s){let r,t,o;re(l,Ee,_=>s(7,t=_)),re(l,W,_=>s(1,o=_));let{event:n}=e;const a=n;function i(_){if(!!_)return _.map(k=>t.spec.speakers.find(T=>T.id===k))}function c(_){const k=t.spec.tracks.find(T=>T.id===_);return k.shortname||k.name}function h(_){return t.spec.events.filter(k=>k.parent===_.id)}const f=()=>ne(a.id,W),d=_=>ne(_.id,W);return l.$$set=_=>{"event"in _&&s(6,n=_.event)},l.$$.update=()=>{l.$$.dirty&128&&s(0,r=ye(a,t))},[r,o,a,i,c,h,n,t,f,d]}class Fe extends _e{constructor(e){super();pe(this,e,Te,Be,me,{event:6})}}export{Ie as E,Fe as a,ne as b,Ce as c,ye as d};
