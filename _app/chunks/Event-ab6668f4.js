import{S as ge,i as be,s as ke,e as p,c as m,a as g,d as h,b as _,g as z,q as V,w as Q,k as O,t as j,x as U,m as T,h as q,y as W,F as d,E as H,o as y,B as X,n as Y,p as Z,G as x,K as Ee,H as oe,l as ce}from"./index-05c131b6.js";import{A as me}from"./Avatar-644d9cdd.js";import{E as De}from"./EventTypeLabel-a320bc18.js";import{u as fe,b as Ie}from"./stores-74e4143d.js";function ue(i,e,n){const s=i.slice();return s[8]=e[n],s}function de(i,e,n){const s=i.slice();return s[11]=e[n],s}function he(i,e,n){const s=i.slice();return s[11]=e[n],s}function Ve(i){let e,n,s=i[2](i[1].speakers),t=[];for(let a=0;a<s.length;a+=1)t[a]=ve(he(i,s,a));const c=a=>y(t[a],1,1,()=>{t[a]=null});return{c(){e=p("div");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=m(a,"DIV",{class:!0});var r=g(e);for(let l=0;l<t.length;l+=1)t[l].l(r);r.forEach(h),this.h()},h(){_(e,"class","mt-1 mb-2 flex flex-wrap gap-2")},m(a,r){z(a,e,r);for(let l=0;l<t.length;l+=1)t[l].m(e,null);n=!0},p(a,r){if(r&6){s=a[2](a[1].speakers);let l;for(l=0;l<s.length;l+=1){const o=he(a,s,l);t[l]?(t[l].p(o,r),V(t[l],1)):(t[l]=ve(o),t[l].c(),V(t[l],1),t[l].m(e,null))}for(Y(),l=s.length;l<t.length;l+=1)c(l);Z()}},i(a){if(!n){for(let r=0;r<s.length;r+=1)V(t[r]);n=!0}},o(a){t=t.filter(Boolean);for(let r=0;r<t.length;r+=1)y(t[r]);n=!1},d(a){a&&h(e),x(t,a)}}}function ve(i){let e,n,s,t,c,a=i[11].name+"",r,l,o,v;return n=new me({props:{speaker:i[11],size:"extra-small"}}),{c(){e=p("div"),Q(n.$$.fragment),s=O(),t=p("div"),c=p("a"),r=j(a),o=O(),this.h()},l(u){e=m(u,"DIV",{class:!0});var f=g(e);U(n.$$.fragment,f),s=T(f),t=m(f,"DIV",{class:!0});var I=g(t);c=m(I,"A",{href:!0});var k=g(c);r=q(k,a),k.forEach(h),I.forEach(h),o=T(f),f.forEach(h),this.h()},h(){_(c,"href",l="/lide/"+i[11].id),_(t,"class","m-auto"),_(e,"class","flex gap-1.5")},m(u,f){z(u,e,f),W(n,e,null),d(e,s),d(e,t),d(t,c),d(c,r),d(e,o),v=!0},p:H,i(u){v||(V(n.$$.fragment,u),v=!0)},o(u){y(n.$$.fragment,u),v=!1},d(u){u&&h(e),X(n)}}}function $e(i){let e,n,s,t=i[4](i[1]),c=[];for(let r=0;r<t.length;r+=1)c[r]=pe(ue(i,t,r));const a=r=>y(c[r],1,1,()=>{c[r]=null});return{c(){e=p("div"),n=p("div");for(let r=0;r<c.length;r+=1)c[r].c();this.h()},l(r){e=m(r,"DIV",{class:!0});var l=g(e);n=m(l,"DIV",{class:!0,cellpadding:!0});var o=g(n);for(let v=0;v<c.length;v+=1)c[v].l(o);o.forEach(h),l.forEach(h),this.h()},h(){_(n,"class","flex flex-wrap gap-2"),_(n,"cellpadding","5"),_(e,"class","mt-4 w-auto mb-2")},m(r,l){z(r,e,l),d(e,n);for(let o=0;o<c.length;o+=1)c[o].m(n,null);s=!0},p(r,l){if(l&22){t=r[4](r[1]);let o;for(o=0;o<t.length;o+=1){const v=ue(r,t,o);c[o]?(c[o].p(v,l),V(c[o],1)):(c[o]=pe(v),c[o].c(),V(c[o],1),c[o].m(n,null))}for(Y(),o=t.length;o<c.length;o+=1)a(o);Z()}},i(r){if(!s){for(let l=0;l<t.length;l+=1)V(c[l]);s=!0}},o(r){c=c.filter(Boolean);for(let l=0;l<c.length;l+=1)y(c[l]);s=!1},d(r){r&&h(e),x(c,r)}}}function ye(i){let e,n,s=i[2](i[8].speakers),t=[];for(let a=0;a<s.length;a+=1)t[a]=_e(de(i,s,a));const c=a=>y(t[a],1,1,()=>{t[a]=null});return{c(){for(let a=0;a<t.length;a+=1)t[a].c();e=ce()},l(a){for(let r=0;r<t.length;r+=1)t[r].l(a);e=ce()},m(a,r){for(let l=0;l<t.length;l+=1)t[l].m(a,r);z(a,e,r),n=!0},p(a,r){if(r&22){s=a[2](a[8].speakers);let l;for(l=0;l<s.length;l+=1){const o=de(a,s,l);t[l]?(t[l].p(o,r),V(t[l],1)):(t[l]=_e(o),t[l].c(),V(t[l],1),t[l].m(e.parentNode,e))}for(Y(),l=s.length;l<t.length;l+=1)c(l);Z()}},i(a){if(!n){for(let r=0;r<s.length;r+=1)V(t[r]);n=!0}},o(a){t=t.filter(Boolean);for(let r=0;r<t.length;r+=1)y(t[r]);n=!1},d(a){x(t,a),a&&h(e)}}}function we(i){let e,n;return{c(){e=p("div"),n=j("TBA")},l(s){e=m(s,"DIV",{});var t=g(e);n=q(t,"TBA"),t.forEach(h)},m(s,t){z(s,e,t),d(e,n)},p:H,i:H,o:H,d(s){s&&h(e)}}}function _e(i){let e,n,s,t,c=i[11].name+"",a,r,l;return n=new me({props:{speaker:i[11],size:"micro"}}),{c(){e=p("div"),Q(n.$$.fragment),s=p("div"),t=p("a"),a=j(c),this.h()},l(o){e=m(o,"DIV",{class:!0});var v=g(e);U(n.$$.fragment,v),s=m(v,"DIV",{});var u=g(s);t=m(u,"A",{href:!0});var f=g(t);a=q(f,c),f.forEach(h),u.forEach(h),v.forEach(h),this.h()},h(){_(t,"href",r="/lide/"+i[11].id),_(e,"class","flex gap-1")},m(o,v){z(o,e,v),W(n,e,null),d(e,s),d(s,t),d(t,a),l=!0},p:H,i(o){l||(V(n.$$.fragment,o),l=!0)},o(o){y(n.$$.fragment,o),l=!1},d(o){o&&h(e),X(n)}}}function pe(i){let e,n,s,t=i[8].name+"",c,a,r,l,o,v,u,f;const I=[we,ye],k=[];function B(b,$){return b[8].speakers.length===0?0:1}return o=B(i),v=k[o]=I[o](i),{c(){e=p("div"),n=p("div"),s=p("a"),c=j(t),r=O(),l=p("div"),v.c(),u=O(),this.h()},l(b){e=m(b,"DIV",{class:!0});var $=g(e);n=m($,"DIV",{class:!0});var F=g(n);s=m(F,"A",{href:!0});var N=g(s);c=q(N,t),N.forEach(h),F.forEach(h),r=T($),l=m($,"DIV",{class:!0});var S=g(l);v.l(S),S.forEach(h),u=T($),$.forEach(h),this.h()},h(){_(s,"href",a="/udalosti/"+i[8].id),_(n,"class","font-bold"),_(l,"class","mt-1"),_(e,"class","border rounded py-1.5 px-2.5 bg-gray-100 text-sm")},m(b,$){z(b,e,$),d(e,n),d(n,s),d(s,c),d(e,r),d(e,l),k[o].m(l,null),d(e,u),f=!0},p(b,$){v.p(b,$)},i(b){f||(V(v),f=!0)},o(b){y(v),f=!1},d(b){b&&h(e),k[o].d()}}}function Ae(i){let e,n,s,t,c,a,r,l=i[1].name+"",o,v,u,f,I,k,B,b,$=i[3](i[1].track)+"",F,N,S,ee=i[1].duration+"",K,L,M,te=i[4](i[1]).length>0,J,C,P,le,w=i[1].speakers&&i[1].speakers.length>0&&Ve(i);k=new De({props:{event:i[1]}});let A=te&&$e(i);return{c(){e=p("div"),n=p("div"),s=p("i"),c=O(),a=p("div"),r=p("a"),o=j(l),v=O(),w&&w.c(),u=O(),f=p("div"),I=p("div"),Q(k.$$.fragment),B=O(),b=p("div"),F=j($),N=O(),S=p("div"),K=j(ee),L=j("m"),M=O(),A&&A.c(),this.h()},l(E){e=m(E,"DIV",{class:!0});var D=g(e);n=m(D,"DIV",{class:!0});var re=g(n);s=m(re,"I",{class:!0,"utxo-event-id":!0}),g(s).forEach(h),re.forEach(h),c=T(D),a=m(D,"DIV",{class:!0});var ae=g(a);r=m(ae,"A",{href:!0});var se=g(r);o=q(se,l),se.forEach(h),ae.forEach(h),v=T(D),w&&w.l(D),u=T(D),f=m(D,"DIV",{class:!0});var G=g(f);I=m(G,"DIV",{});var ne=g(I);U(k.$$.fragment,ne),ne.forEach(h),B=T(G),b=m(G,"DIV",{class:!0});var ie=g(b);F=q(ie,$),ie.forEach(h),N=T(G),S=m(G,"DIV",{class:!0});var R=g(S);K=q(R,ee),L=q(R,"m"),R.forEach(h),G.forEach(h),M=T(D),A&&A.l(D),D.forEach(h),this.h()},h(){_(s,"class",t="fa-star "+(i[0].favoriteEvents.includes(i[1].id)?"fa-solid":"fa-regular")+" cursor-pointer"),_(s,"utxo-event-id",i[1].id),_(n,"class","float-right"),_(r,"href","/udalosti/"+i[1].id),_(a,"class","text-lg font-semibold"),_(b,"class","text-sm my-auto"),_(S,"class","text-xs my-auto"),_(f,"class","mt-2 text-sm flex flex-wrap gap-2"),_(e,"class",J="transition-all mb-4 border px-3 py-2 rounded-md shadow "+(i[0].favoriteEvents.includes(i[1].id)?"bg-yellow-100":""))},m(E,D){z(E,e,D),d(e,n),d(n,s),d(e,c),d(e,a),d(a,r),d(r,o),d(e,v),w&&w.m(e,null),d(e,u),d(e,f),d(f,I),W(k,I,null),d(f,B),d(f,b),d(b,F),d(f,N),d(f,S),d(S,K),d(S,L),d(e,M),A&&A.m(e,null),C=!0,P||(le=Ee(s,"click",i[5]),P=!0)},p(E,[D]){(!C||D&1&&t!==(t="fa-star "+(E[0].favoriteEvents.includes(E[1].id)?"fa-solid":"fa-regular")+" cursor-pointer"))&&_(s,"class",t),E[1].speakers&&E[1].speakers.length>0&&w.p(E,D),te&&A.p(E,D),(!C||D&1&&J!==(J="transition-all mb-4 border px-3 py-2 rounded-md shadow "+(E[0].favoriteEvents.includes(E[1].id)?"bg-yellow-100":"")))&&_(e,"class",J)},i(E){C||(V(w),V(k.$$.fragment,E),V(A),C=!0)},o(E){y(w),y(k.$$.fragment,E),y(A),C=!1},d(E){E&&h(e),w&&w.d(),X(k),A&&A.d(),P=!1,le()}}}function Be(i,e,n){let s,t;oe(i,fe,u=>n(0,s=u)),oe(i,Ie,u=>n(7,t=u));let{event:c}=e;const a=c;function r(u){if(!!u)return u.map(f=>t.spec.speakers.find(I=>I.id===f))}function l(u){const f=t.spec.tracks.find(I=>I.id===u);return f.shortname||f.name}function o(u){return t.spec.events.filter(f=>f.parent===u.id)}function v(u){const f=u.target.getAttribute("utxo-event-id");fe.update(I=>{const k=I.favoriteEvents;let B=null;return k.includes(f)?B=Object.assign(s,{favoriteEvents:k.filter(b=>b!==f)}):(k.push(f),B=Object.assign(s,{favoriteEvents:k})),localStorage.setItem("userData",JSON.stringify(B)),B})}return i.$$set=u=>{"event"in u&&n(6,c=u.event)},[s,a,r,l,o,v,c]}class qe extends ge{constructor(e){super();be(this,e,Be,Ae,ke,{event:6})}}export{qe as E};
