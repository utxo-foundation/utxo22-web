import{S as _e,i as pe,s as me,e as m,k as A,t as C,c as g,a as b,d as v,m as z,h as F,b as p,g as q,F as u,j as ge,E as S,q as V,w as J,x as Q,y as U,o as j,B as X,n as Y,p as Z,G as x,K as be,H as re,l as ie}from"./index-e45cd9d1.js";import{A as ke}from"./Avatar-f71fd69a.js";import{b as Ee,a as W}from"./stores-adaa4006.js";function ye(s,e){if(!e)return 0;if(console.log(s.duration),s.duration)return s.duration;const a=e.spec.events.filter(r=>r.parent===s.id);if(a.length>0){let r=a.reduce((t,o)=>t+(o.duration?o.duration:0),0);return r+=5*(a.length-1),r}}function ne(s,e){e.update(a=>{const r=a.favoriteEvents;let t=null;return r.includes(s)?t=Object.assign({},a,{favoriteEvents:r.filter(o=>o!==s)}):(r.push(s),t=Object.assign(a,{favoriteEvents:r})),t})}function Ce(){}function De(s){let e,a,r,t,o,n=s[1].title+"",l,i,c;return{c(){e=m("div"),a=m("div"),t=A(),o=m("div"),l=C(n),this.h()},l(h){e=g(h,"DIV",{class:!0});var f=b(e);a=g(f,"DIV",{class:!0}),b(a).forEach(v),t=z(f),o=g(f,"DIV",{class:!0});var d=b(o);l=F(d,n),d.forEach(v),f.forEach(v),this.h()},h(){p(a,"class",r="w-1 rounded-l-sm "+s[1].style),p(o,"class",i=(s[0]==="big"?"px-2 py-0.5":"px-1.5 py-0.5")+" rounded-r-sm bg-gray-100 uppercase"),p(e,"class",c="flex "+(s[0]==="big"?"h-6 text-sm":"h-5 text-xs"))},m(h,f){q(h,e,f),u(e,a),u(e,t),u(e,o),u(o,l)},p(h,[f]){f&2&&r!==(r="w-1 rounded-l-sm "+h[1].style)&&p(a,"class",r),f&2&&n!==(n=h[1].title+"")&&ge(l,n),f&1&&i!==(i=(h[0]==="big"?"px-2 py-0.5":"px-1.5 py-0.5")+" rounded-r-sm bg-gray-100 uppercase")&&p(o,"class",i),f&1&&c!==(c="flex "+(h[0]==="big"?"h-6 text-sm":"h-5 text-xs"))&&p(e,"class",c)},i:S,o:S,d(h){h&&v(e)}}}function we(s,e,a){let r,{event:t={}}=e,{size:o=null}=e;const n={panel:{title:"Panelov\xE1 debata",style:"bg-custom-red text-white"},talk:{title:"P\u0159edn\xE1\u0161ka",style:"bg-custom-green text-white"},workshop:{title:"Workshop",style:"bg-custom-blue text-white"},other:{title:"Ostatn\xED",style:"bg-custom-yellow"},lightning:{title:"Lightning talk",style:"bg-pink-400"}};return s.$$set=l=>{"event"in l&&a(2,t=l.event),"size"in l&&a(0,o=l.size)},s.$$.update=()=>{s.$$.dirty&4&&a(1,r=n[t.type])},[o,r,t]}class Ie extends _e{constructor(e){super();pe(this,e,we,De,me,{event:2,size:0})}}function oe(s,e,a){const r=s.slice();return r[10]=e[a],r}function ce(s,e,a){const r=s.slice();return r[13]=e[a],r}function fe(s,e,a){const r=s.slice();return r[13]=e[a],r}function Ve(s){let e,a,r=s[3](s[2].speakers),t=[];for(let n=0;n<r.length;n+=1)t[n]=ue(fe(s,r,n));const o=n=>j(t[n],1,1,()=>{t[n]=null});return{c(){e=m("div");for(let n=0;n<t.length;n+=1)t[n].c();this.h()},l(n){e=g(n,"DIV",{class:!0});var l=b(e);for(let i=0;i<t.length;i+=1)t[i].l(l);l.forEach(v),this.h()},h(){p(e,"class","mt-1 mb-2 flex flex-wrap gap-2")},m(n,l){q(n,e,l);for(let i=0;i<t.length;i+=1)t[i].m(e,null);a=!0},p(n,l){if(l&12){r=n[3](n[2].speakers);let i;for(i=0;i<r.length;i+=1){const c=fe(n,r,i);t[i]?(t[i].p(c,l),V(t[i],1)):(t[i]=ue(c),t[i].c(),V(t[i],1),t[i].m(e,null))}for(Y(),i=r.length;i<t.length;i+=1)o(i);Z()}},i(n){if(!a){for(let l=0;l<r.length;l+=1)V(t[l]);a=!0}},o(n){t=t.filter(Boolean);for(let l=0;l<t.length;l+=1)j(t[l]);a=!1},d(n){n&&v(e),x(t,n)}}}function ue(s){let e,a,r,t,o,n=s[13].name+"",l,i,c,h;return a=new ke({props:{speaker:s[13],size:"extra-small"}}),{c(){e=m("div"),J(a.$$.fragment),r=A(),t=m("div"),o=m("a"),l=C(n),c=A(),this.h()},l(f){e=g(f,"DIV",{class:!0});var d=b(e);Q(a.$$.fragment,d),r=z(d),t=g(d,"DIV",{class:!0});var _=b(t);o=g(_,"A",{href:!0});var k=b(o);l=F(k,n),k.forEach(v),_.forEach(v),c=z(d),d.forEach(v),this.h()},h(){p(o,"href",i="/lide?id="+s[13].id),p(t,"class","m-auto"),p(e,"class","flex gap-1.5")},m(f,d){q(f,e,d),U(a,e,null),u(e,r),u(e,t),u(t,o),u(o,l),u(e,c),h=!0},p:S,i(f){h||(V(a.$$.fragment,f),h=!0)},o(f){j(a.$$.fragment,f),h=!1},d(f){f&&v(e),X(a)}}}function de(s){let e,a,r;return{c(){e=m("div"),a=C(s[0]),r=C("m"),this.h()},l(t){e=g(t,"DIV",{class:!0});var o=b(e);a=F(o,s[0]),r=F(o,"m"),o.forEach(v),this.h()},h(){p(e,"class","text-xs my-auto")},m(t,o){q(t,e,o),u(e,a),u(e,r)},p(t,o){o&1&&ge(a,t[0])},d(t){t&&v(e)}}}function $e(s){let e,a,r,t=s[5](s[2]),o=[];for(let l=0;l<t.length;l+=1)o[l]=ve(oe(s,t,l));const n=l=>j(o[l],1,1,()=>{o[l]=null});return{c(){e=m("div"),a=m("div");for(let l=0;l<o.length;l+=1)o[l].c();this.h()},l(l){e=g(l,"DIV",{class:!0});var i=b(e);a=g(i,"DIV",{class:!0,cellpadding:!0});var c=b(a);for(let h=0;h<o.length;h+=1)o[h].l(c);c.forEach(v),i.forEach(v),this.h()},h(){p(a,"class","flex flex-wrap gap-2"),p(a,"cellpadding","5"),p(e,"class","mt-4 w-auto mb-2")},m(l,i){q(l,e,i),u(e,a);for(let c=0;c<o.length;c+=1)o[c].m(a,null);r=!0},p(l,i){if(i&46){t=l[5](l[2]);let c;for(c=0;c<t.length;c+=1){const h=oe(l,t,c);o[c]?(o[c].p(h,i),V(o[c],1)):(o[c]=ve(h),o[c].c(),V(o[c],1),o[c].m(a,null))}for(Y(),c=t.length;c<o.length;c+=1)n(c);Z()}},i(l){if(!r){for(let i=0;i<t.length;i+=1)V(o[i]);r=!0}},o(l){o=o.filter(Boolean);for(let i=0;i<o.length;i+=1)j(o[i]);r=!1},d(l){l&&v(e),x(o,l)}}}function Ae(s){let e,a,r=s[3](s[10].speakers),t=[];for(let n=0;n<r.length;n+=1)t[n]=he(ce(s,r,n));const o=n=>j(t[n],1,1,()=>{t[n]=null});return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=ie()},l(n){for(let l=0;l<t.length;l+=1)t[l].l(n);e=ie()},m(n,l){for(let i=0;i<t.length;i+=1)t[i].m(n,l);q(n,e,l),a=!0},p(n,l){if(l&44){r=n[3](n[10].speakers);let i;for(i=0;i<r.length;i+=1){const c=ce(n,r,i);t[i]?(t[i].p(c,l),V(t[i],1)):(t[i]=he(c),t[i].c(),V(t[i],1),t[i].m(e.parentNode,e))}for(Y(),i=r.length;i<t.length;i+=1)o(i);Z()}},i(n){if(!a){for(let l=0;l<r.length;l+=1)V(t[l]);a=!0}},o(n){t=t.filter(Boolean);for(let l=0;l<t.length;l+=1)j(t[l]);a=!1},d(n){x(t,n),n&&v(e)}}}function ze(s){let e,a;return{c(){e=m("div"),a=C("TBA")},l(r){e=g(r,"DIV",{});var t=b(e);a=F(t,"TBA"),t.forEach(v)},m(r,t){q(r,e,t),u(e,a)},p:S,i:S,o:S,d(r){r&&v(e)}}}function he(s){let e,a,r,t,o,n=s[13].name+"",l,i,c,h;return a=new ke({props:{speaker:s[13],size:"micro"}}),{c(){e=m("div"),J(a.$$.fragment),r=A(),t=m("div"),o=m("a"),l=C(n),c=A(),this.h()},l(f){e=g(f,"DIV",{class:!0});var d=b(e);Q(a.$$.fragment,d),r=z(d),t=g(d,"DIV",{});var _=b(t);o=g(_,"A",{href:!0});var k=b(o);l=F(k,n),k.forEach(v),_.forEach(v),c=z(d),d.forEach(v),this.h()},h(){p(o,"href",i="/lide?id="+s[13].id),p(e,"class","flex gap-1")},m(f,d){q(f,e,d),U(a,e,null),u(e,r),u(e,t),u(t,o),u(o,l),u(e,c),h=!0},p:S,i(f){h||(V(a.$$.fragment,f),h=!0)},o(f){j(a.$$.fragment,f),h=!1},d(f){f&&v(e),X(a)}}}function ve(s){let e,a,r,t=s[10].name+"",o,n,l,i,c,h,f,d,_,k,T,B,G,H;const M=[ze,Ae],P=[];function R(y,D){return y[10].speakers.length===0?0:1}return d=R(s),_=P[d]=M[d](s),{c(){e=m("div"),a=m("div"),r=m("a"),o=C(t),l=A(),i=m("i"),h=A(),f=m("div"),_.c(),k=A(),this.h()},l(y){e=g(y,"DIV",{class:!0});var D=b(e);a=g(D,"DIV",{class:!0});var L=b(a);r=g(L,"A",{href:!0});var N=b(r);o=F(N,t),N.forEach(v),l=z(L),i=g(L,"I",{class:!0}),b(i).forEach(v),L.forEach(v),h=z(D),f=g(D,"DIV",{class:!0});var $=b(f);_.l($),$.forEach(v),k=z(D),D.forEach(v),this.h()},h(){p(r,"href",n="/udalosti?id="+s[10].id),p(i,"class",c="fa-star "+(s[1].favoriteEvents.includes(s[10].id)?"fa-solid":"fa-regular")+" cursor-pointer"),p(a,"class","font-bold"),p(f,"class","mt-1"),p(e,"class",T="border rounded py-1.5 px-2.5 text-sm transition-all "+(s[1].favoriteEvents.includes(s[10].id)?"bg-yellow-100":"bg-gray-100"))},m(y,D){q(y,e,D),u(e,a),u(a,r),u(r,o),u(a,l),u(a,i),u(e,h),u(e,f),P[d].m(f,null),u(e,k),B=!0,G||(H=be(i,"click",s[9]),G=!0)},p(y,D){(!B||D&2&&c!==(c="fa-star "+(y[1].favoriteEvents.includes(y[10].id)?"fa-solid":"fa-regular")+" cursor-pointer"))&&p(i,"class",c),_.p(y,D),(!B||D&2&&T!==(T="border rounded py-1.5 px-2.5 text-sm transition-all "+(y[1].favoriteEvents.includes(y[10].id)?"bg-yellow-100":"bg-gray-100")))&&p(e,"class",T)},i(y){B||(V(_),B=!0)},o(y){j(_),B=!1},d(y){y&&v(e),P[d].d(),G=!1,H()}}}function Be(s){let e,a,r,t,o,n,l,i=s[2].name+"",c,h,f,d,_,k,T,B,G=s[4](s[2].track)+"",H,M,P,R=s[5](s[2]).length>0,y,D,L,N,$=s[2].speakers&&s[2].speakers.length>0&&Ve(s);k=new Ie({props:{event:s[2]}});let I=s[0]&&de(s),O=R&&$e(s);return{c(){e=m("div"),a=m("div"),r=m("i"),o=A(),n=m("div"),l=m("a"),c=C(i),h=A(),$&&$.c(),f=A(),d=m("div"),_=m("div"),J(k.$$.fragment),T=A(),B=m("div"),H=C(G),M=A(),I&&I.c(),P=A(),O&&O.c(),this.h()},l(E){e=g(E,"DIV",{class:!0});var w=b(e);a=g(w,"DIV",{class:!0});var ee=b(a);r=g(ee,"I",{class:!0}),b(r).forEach(v),ee.forEach(v),o=z(w),n=g(w,"DIV",{class:!0});var te=b(n);l=g(te,"A",{href:!0});var le=b(l);c=F(le,i),le.forEach(v),te.forEach(v),h=z(w),$&&$.l(w),f=z(w),d=g(w,"DIV",{class:!0});var K=b(d);_=g(K,"DIV",{});var ae=b(_);Q(k.$$.fragment,ae),ae.forEach(v),T=z(K),B=g(K,"DIV",{class:!0});var se=b(B);H=F(se,G),se.forEach(v),M=z(K),I&&I.l(K),K.forEach(v),P=z(w),O&&O.l(w),w.forEach(v),this.h()},h(){p(r,"class",t="fa-star "+(s[1].favoriteEvents.includes(s[2].id)?"fa-solid":"fa-regular")+" cursor-pointer"),p(a,"class","float-right"),p(l,"href","/udalosti?id="+s[2].id),p(n,"class","text-lg font-semibold"),p(B,"class","text-sm my-auto"),p(d,"class","mt-2 text-sm flex flex-wrap gap-2"),p(e,"class",y="transition-all mb-4 border px-3 py-2 rounded-md shadow "+(s[1].favoriteEvents.includes(s[2].id)?"bg-yellow-100":""))},m(E,w){q(E,e,w),u(e,a),u(a,r),u(e,o),u(e,n),u(n,l),u(l,c),u(e,h),$&&$.m(e,null),u(e,f),u(e,d),u(d,_),U(k,_,null),u(d,T),u(d,B),u(B,H),u(d,M),I&&I.m(d,null),u(e,P),O&&O.m(e,null),D=!0,L||(N=be(r,"click",s[8]),L=!0)},p(E,[w]){(!D||w&2&&t!==(t="fa-star "+(E[1].favoriteEvents.includes(E[2].id)?"fa-solid":"fa-regular")+" cursor-pointer"))&&p(r,"class",t),E[2].speakers&&E[2].speakers.length>0&&$.p(E,w),E[0]?I?I.p(E,w):(I=de(E),I.c(),I.m(d,null)):I&&(I.d(1),I=null),R&&O.p(E,w),(!D||w&2&&y!==(y="transition-all mb-4 border px-3 py-2 rounded-md shadow "+(E[1].favoriteEvents.includes(E[2].id)?"bg-yellow-100":"")))&&p(e,"class",y)},i(E){D||(V($),V(k.$$.fragment,E),V(O),D=!0)},o(E){j($),j(k.$$.fragment,E),j(O),D=!1},d(E){E&&v(e),$&&$.d(),X(k),I&&I.d(),O&&O.d(),L=!1,N()}}}function Te(s,e,a){let r,t,o;re(s,Ee,_=>a(7,t=_)),re(s,W,_=>a(1,o=_));let{event:n}=e;const l=n;function i(_){if(!!_)return _.map(k=>t.spec.speakers.find(T=>T.id===k))}function c(_){const k=t.spec.tracks.find(T=>T.id===_);return k.shortname||k.name}function h(_){return t.spec.events.filter(k=>k.parent===_.id)}const f=()=>ne(l.id,W),d=()=>ne(l.id,W);return s.$$set=_=>{"event"in _&&a(6,n=_.event)},s.$$.update=()=>{s.$$.dirty&128&&a(0,r=ye(l,t))},[r,o,l,i,c,h,n,t,f,d]}class Fe extends _e{constructor(e){super();pe(this,e,Te,Be,me,{event:6})}}export{Ie as E,Fe as a,ne as b,Ce as c,ye as d};
